@use "scss/helpers" as *;

.header {
  position: fixed;
  top: 0;
  left: 0;
  padding: rem(15) 0;
  width: 100%;
  transition: var(--transition-ease);
  z-index: 10;

  &.sticky {
    background: var(--text-color);
  }

  @include media("xl") {
    position: static;
  }

  .container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: rem(20);
  }

  &__logo {
    position: relative;
    width: rem(180);
    display: block;

    img {
      width: 100%;
      height: auto;
      object-fit: contain;
    }
  }

  &__menu {
    color: #fff;

    @include media("xl") {
      display: none;
    }

    .menu {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: rem(30);

      & > .menu-item {
        position: relative;

        & > a {
          font-size: rem(14);
          transition: var(--transition-ease);
        }

        &.active > a,
        &:hover > a {
          color: var(--primary);
        }
      }

      & > .menu-item.menu-item-has-children {
        position: relative;
        display: flex;
        align-items: center;
        gap: rem(8);

        &::before {
          content: "";
          display: block;
          width: 1.2em;
          height: 1.2em;
          background: url('data:image/svg+xml,<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.6853 0.458862V7.46216H10.8408V6.29392C7.35448 7.44986 4.84583 10.7394 4.84583 14.6192C4.84583 15.2709 4.91961 15.9104 5.05488 16.5191L6.10015 15.9165L7.02245 17.5152L5.65745 18.3022L1.96212 20.4358L0.959893 21.0138L0.0375977 19.4151L1.24888 18.7142C0.818475 17.4291 0.590976 16.0518 0.590976 14.6192C0.590976 8.37216 4.9811 3.15197 10.8408 1.88535V0.458862H12.6853Z" fill="%23F1C416" /><path d="M27.2947 19.4335L26.3724 21.0322L25.3702 20.4542L21.6749 18.3206L20.3099 17.5336L21.2322 15.935L22.2774 16.5375C22.4127 15.9288 22.4865 15.2894 22.4865 14.6376C22.4865 10.7578 19.9778 7.4683 16.4916 6.31235V7.48059H14.647V0.477295H16.4916V1.90378C22.3512 3.1704 26.7413 8.39059 26.7413 14.6376C26.7413 16.0702 26.5138 17.4475 26.0834 18.7326L27.2947 19.4335Z" fill="%23F1C416" /><path d="M25.6591 22.0652L24.6999 23.6392L23.4518 22.8829C23.421 22.926 23.3841 22.9629 23.3472 23.0059C19.406 27.5252 12.7162 28.8533 7.24395 25.8343C5.98963 25.1456 4.89517 24.2787 3.97902 23.2826C3.91753 23.215 3.8499 23.1473 3.79456 23.0735L3.75767 23.0981L2.57713 23.8544L1.58105 22.2988L2.55869 21.6778L6.14949 19.3782L7.4776 18.5235L8.47368 20.0792L7.45915 20.7309H7.44686C7.53908 20.8293 7.63746 20.9215 7.73584 21.0076C8.20313 21.4196 8.73192 21.7946 9.30374 22.1082C12.6978 23.9835 16.7928 23.3748 19.4859 20.8785C19.572 20.7985 19.658 20.7186 19.7441 20.6325L18.7112 20.0054L19.6703 18.4252L25.6591 22.0652Z" fill="%23F1C416" /></svg>')
            center/contain no-repeat;
        }
      }

      & > .menu-item.menu-item-has-children > .sub-menu {
        position: absolute;
        top: calc(100% + rem(60));
        left: 0;
        width: 100%;
        max-width: rem(780);

        &::before {
          content: "";
          position: absolute;
          top: rem(-60);
          left: 0;
          height: rem(60);
          width: 100%;
        }
      }
    }
  }
}

.mobile__menu {
  position: fixed;
  bottom: rem(15);
  left: 50%;
  transform: translateX(-50%);
  display: none;
  z-index: 10;

  @include media("xl") {
    display: flex;
  }
  @include media("xs") {
    width: 100%;
    max-width: calc(100% - rem(30));
  }
  @include media("350px") {
    max-width: calc(100% - rem(10));
  }

  &-tabs {
    padding: rem(16) rem(20);
    width: 100%;
    background: var(--secondary);
    border-radius: rem(15);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: rem(40);

    @include media("xs") {
      gap: rem(20);
    }
    @include media("350px") {
      padding: rem(15);
      gap: rem(10);
    }
  }

  &-tab {
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;

    svg > *,
    span {
      transition: var(--transition-ease);
    }

    span {
      margin-top: rem(5);
      font-size: rem(14);
      text-align: center;
    }

    // &:hover,
    // &.active {
    //   color: var(--primary);
    // }
  }

  &-content {
    position: absolute;
    padding: rem(50) rem(30);
    bottom: rem(90);
    width: 100%;
    min-height: rem(345);
    max-height: calc(100vh - rem(120));
    color: #fff;
    background: var(--secondary);
    border-radius: rem(15);
    display: none;
    align-items: center;
    transition: var(--transition-ease);
    overflow: auto;

    opacity: 0;
    transform: translateY(rem(20));
    transition:
      opacity 0.3s ease,
      transform 0.3s ease;
    pointer-events: none;

    &.show {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }

    @media screen and (max-height: 720px) {
      padding: rem(30) rem(30);
    }

    .menu {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: rem(30);

      @media screen and (max-height: 740px) {
        gap: rem(20);
      }

      .sub-menu {
        display: none;
      }

      .icon-plus {
        display: none;
      }
    }

    // .sub-menu {
    //   height: 100%;
    //   max-height: 65vh;
    //   display: flex;
    //   flex-direction: column;
    //   align-items: flex-start;
    //   gap: rem(35);
    //   overflow-y: auto;

    //   @include media("sm") {
    //     gap: rem(25);
    //   }

    //   .menu-item {
    //     display: flex;
    //     flex-direction: column;
    //     align-items: flex-start;
    //     gap: rem(10);
    //   }

    //   &::-webkit-scrollbar {
    //     width: rem(10);
    //   }

    //   &::-webkit-scrollbar-track {
    //     background-color: #35373c;
    //     border-radius: rem(20);
    //   }

    //   &::-webkit-scrollbar-thumb {
    //     background-color: #7a7d85;
    //     border-radius: rem(20);
    //   }
    // }

    #content {
      width: 100%;
    }
  }

  &-close {
    position: absolute;
    top: rem(22);
    right: rem(25);
  }

  .header__contacts {
    margin-top: rem(40);
    width: 100%;
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: rem(20);

    @media screen and (max-height: 720px) {
      margin-top: rem(20);
    }

    .group {
      width: 100%;
      flex-direction: column;
    }
  }
}
