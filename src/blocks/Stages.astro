---
import { Section, H2, H3, P, Image, Icon, Button } from "ui";
---

<!-- Stages -->
<Section name="stages">
  <div class="stages__title" data-title="ЭТАПЫ">ЭТАПЫ ИЗГОТОВЛЕНИЯ</div>
  <div class="stages__list">
    <div class="stages__item">
      <div class="stages__item-index">01</div>
      <div class="stages__item-text">
        <div class="stages__item-title">Расчет тепла</div>
        <p class="stages__item-desc">
          Определение тепловой нагрузки и потребностей в энергии.
        </p>
      </div>
    </div>

    <div class="stages__item">
      <div class="stages__item-index">02</div>
      <div class="stages__item-text">
        <div class="stages__item-title">Технические условия (ТУ) на газ</div>
        <p class="stages__item-desc">
          Получение технических условий на подключение к газовым сетям и
          согласование параметров газоснабжения с поставщиком.
        </p>
      </div>
    </div>

    <div class="stages__item">
      <div class="stages__item-index">03</div>
      <div class="stages__item-text">
        <div class="stages__item-title">
          Разработка проекта/паспорта котельной
        </div>
        <p class="stages__item-desc">
          Разработка проектной документации — проекта/паспорта котельной, а
          также согласование документов с соответствующими органами.
        </p>
      </div>
    </div>

    <div class="stages__item">
      <div class="stages__item-index">04</div>
      <div class="stages__item-text">
        <div class="stages__item-title">Производство и доставка котельной</div>
        <p class="stages__item-desc">
          Производство модулей котельной и подготовка к транспортировке
          (упаковка, маркировка), организация доставки на объект установки.
        </p>
      </div>
    </div>

    <div class="stages__item">
      <div class="stages__item-index">05</div>
      <div class="stages__item-text">
        <div class="stages__item-title">Монтажные и пусконаладочные работы</div>
        <p class="stages__item-desc">
          Проведение монтажных и пусконаладочных работ, обучение персонала
          заказчика.
        </p>
      </div>
    </div>

    <div class="stages__item">
      <div class="stages__item-index">06</div>
      <div class="stages__item-text">
        <div class="stages__item-title">Сдача в эксплуатацию</div>
        <p class="stages__item-desc">
          Оформление необходимых документов для ввода в эксплуатацию, передача
          котельной заказчику.
        </p>
      </div>
    </div>
  </div>
</Section>

<style lang="scss" is:global>
  @use "scss/helpers" as *;

  .stages {
    position: relative;
    padding-top: rem(130);

    @include media("3xl") {
      padding-top: rem(100);
    }
    @include media("xl") {
      padding-top: rem(60);
    }
    @include media("sm") {
      padding-top: rem(40);
    }

    .container {
      gap: rem(96);

      @include media("3xl") {
        gap: rem(80);
      }
      @include media("xl") {
        gap: rem(50);
      }
      @include media("sm") {
        gap: rem(30);
      }
    }

    &__title {
      position: relative;
      font-weight: 900;
      font-size: rem(52);
      line-height: 150%;
      letter-spacing: 0.05em;
      text-transform: uppercase;

      @include media("3xl") {
        font-size: rem(48);
      }
      @include media("xl") {
        font-size: rem(42);
      }
      @include media("lg") {
        font-size: rem(36);
      }
      @include media("sm") {
        font-size: rem(28);
        line-height: 1.35;
      }

      &::before {
        content: attr(data-title);
        position: absolute;
        bottom: 0;
        left: 0;
        z-index: -1;
        transform: translate(-10%, -18%);
        font-weight: 900;
        font-size: em(38);
        line-height: 75%;
        color: rgba(241, 196, 15, 0.5);

        @include media("xl") {
          transform: translate(0%, -18%);
        }
      }
    }

    &__list {
      width: 100%;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: rem(40) rem(20);

      @include media("xl") {
        grid-template-columns: repeat(2, 1fr);
      }
      @include media("lg") {
        grid-template-columns: 1fr;
        gap: rem(20);
      }
    }

    &__item {
      display: flex;
      align-items: flex-start;
      justify-content: flex-start;
      gap: rem(20);

      @include media("xs") {
        gap: rem(15);
      }

      &-index {
        min-width: rem(110);
        width: rem(110);
        height: rem(125);
        color: rgba(255, 255, 255, 0.35);
        font-weight: 700;
        font-size: rem(75);
        line-height: 126%;
        background: #f1c40f;
        --border-angle: #{rem(20)};
        clip-path: polygon(
          0 0,
          calc(100% - var(--border-angle)) 0%,
          100% var(--border-angle),
          100% 100%,
          var(--border-angle) 100%,
          0 calc(100% - var(--border-angle))
        );
        display: flex;
        align-items: center;
        justify-content: center;

        @include media("xl") {
          min-width: rem(100);
          width: rem(100);
          height: rem(120);
          font-size: rem(68);
        }
        @include media("lg") {
          min-width: rem(80);
          width: rem(80);
          height: rem(90);
          font-size: rem(48);
        }
        @include media("sm") {
          min-width: rem(60);
          width: rem(60);
          height: rem(70);
          font-size: rem(36);
          --border-angle: #{rem(15)};
        }
      }

      &-text {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: rem(20);

        @include media(3xl) {
          gap: rem(15);
        }
        @include media("lg") {
          gap: rem(12);
        }
        @include media("sm") {
          gap: rem(10);
        }
      }

      &-title {
        font-weight: 900;
        font-size: rem(22);
        letter-spacing: 0.11em;
        text-transform: uppercase;
        color: #000;

        @include media("3xl") {
          font-size: rem(20);
        }
        @include media("sm") {
          font-size: rem(18);
          letter-spacing: unset;
        }
      }

      &-desc {
        font-weight: 400;
        font-size: 18px;
        color: #000;

        @include media("3xl") {
          font-size: rem(16);
        }
        @include media("sm") {
          font-size: rem(14);
        }
      }
    }
  }
</style>
