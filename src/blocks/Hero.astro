---
import { Section, H3, P, BgImg, Image, Icon, Button } from "ui";

interface Props {
  img?: string;
  isMain?: boolean;
}

const { img = "hero/1.png", isMain = false } = Astro.props;
---

<!-- Hero -->
<Section name="hero">
  <Fragment slot="header">
    <BgImg src="hero/1-bg.png" />
  </Fragment>

  <div class="hero__text">
    <div class="hero__text-title">Строительная компания</div>
    <div class="hero__text-name">Лерон</div>
    <H3 class="hero__text-subtitle">
      Разработаем <span>технико-экономическое предложение</span>
      <span class="font-regular">за 48 часов</span>
    </H3>
    <Button data-modal="callback">
      <span>Получить</span>
    
    </Button>
  </div>

  <div class="hero__image">
    <Image src="hero/1.png" />
  </div>

  <div class="hero__services">
    <div class="hero__service">
      <div class="hero__service-content">
        <H3 class="hero__service-title">
          Газовые блочно - модульные <br /> котельные
        </H3>
        <ul class="hero__service-list">
          <li>Стационарные</li>
          <li>Встроенные</li>
          <li>Пристроенные</li>
        </ul>
      </div>

      <div class="hero__service-img">
        <Image src="hero/services/1.png" />
      </div>
    </div>

    <div class="hero__service">
      <div class="hero__service-content">
        <H3 class="hero__service-title">Инженерные <br /> коммуникации</H3>
        <ul class="hero__service-list">
          <li>Водоснабжение</li>
          <li>Водоотведение</li>
          <li>Газопровод</li>
          <li>Электрика</li>
          <li>Вентиляция</li>
        </ul>
      </div>

      <div class="hero__service-img">
        <Image src="hero/services/2.png" />
      </div>
    </div>
  </div>
</Section>

<style lang="scss" is:global>
  @use "scss/helpers" as *;

  .hero {
    position: relative;
    padding-top: rem(195);

    @include media("xl") {
      padding-top: rem(150);
    }
    @include media("xl") {
      padding-top: rem(120);
    }

    .bg-img {
      height: rem(980);

      @include media("3xl") {
        height: rem(880);
      }
      @include media("xl") {
        height: rem(680);
      }
      @include media("xs") {
        height: rem(620);

        img {
          object-position: 60%;
        }
      }
    }

    .container {
      gap: rem(75);

      @include media("sm") {
        gap: rem(220);
      }
    }

    &__text {
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: flex-start;

      &-title {
        position: relative;
        font-family: var(--font-secondary);
        font-weight: 300;
        font-size: rem(45);
        letter-spacing: 0.01em;
        color: #f1c40f;

        @include media("3xl") {
          font-size: rem(40);
        }
        @include media("xl") {
          font-size: rem(32);
        }
        @include media("lg") {
          font-size: rem(24);
        }
        @include media("sm") {
          font-size: rem(20);
        }
        @include media("xs") {
          font-size: rem(18);
        }

        &::before,
        &::after {
          content: "";
          position: absolute;
          top: 50%;
          width: rem(30);
          height: rem(30);

          @include media("3xl") {
            width: rem(25);
            height: rem(25);
          }
          @include media("lg") {
            width: rem(20);
            height: rem(20);
          }
          @include media("sm") {
            width: rem(15);
            height: rem(15);
            border-width: rem(1) !important;
          }
        }

        &::before {
          left: 0;
          transform: translate(-40%, -100%);
          border-left: rem(2) solid #fff;
          border-top: rem(2) solid #fff;
        }

        &::after {
          right: 0;
          transform: translate(40%, 0%);
          border-right: rem(2) solid #fff;
          border-bottom: rem(2) solid #fff;
        }
      }

      &-name {
        font-weight: 900;
        font-size: rem(238);
        font-family: var(--font-secondary);
        line-height: 1;
        letter-spacing: 0.01em;
        text-transform: uppercase;
        color: #fff;

        @include media("3xl") {
          font-size: rem(200);
        }
        @include media("xl") {
          font-size: rem(180);
        }
        @include media("lg") {
          font-size: rem(140);
          line-height: 1.2;
        }
        @include media("sm") {
          font-size: rem(100);
        }
        @include media("xs") {
          font-size: rem(80);
        }
      }

      &-subtitle {
        margin: rem(14) 0 rem(30);
        max-width: rem(480);

        @include media("lg") {
          margin-top: 0;
        }
        @include media("xs") {
          font-size: rem(16);
        }
      }
    }

    &__image {
      position: absolute;
      top: rem(65);
      left: 50%;
      z-index: -1;
      transform: translateX(calc(-50% + rem(210)));
      height: rem(914);

      @include media("3xl") {
        height: rem(814);
      }
      @include media("xl") {
        top: rem(85);
        height: rem(595);
      }
      @include media("lg") {
        left: auto;
        right: 0;
        transform: translateX(0);
      }
      @include media("md") {
        top: rem(180);
        right: rem(-40);
        height: rem(500);
      }
      @include media("sm") {
        top: rem(240);
        right: 0;
        width: 100%;
        height: rem(440);

        img {
          width: 100%;
          object-fit: contain;
        }
      }
      @include media("xs") {
        top: rem(290);
        width: 100%;

        img {
          height: auto !important;
          min-width: auto !important;
          width: 100%;
        }
      }

      img {
        min-width: fit-content;
        height: 100%;
      }
    }

    &__services {
      width: 100%;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: rem(28);

      @include media("lg") {
        grid-template-columns: 1fr;
        gap: rem(20);
      }
      @include media("xs") {
        gap: rem(15);
      }
    }

    &__service {
      position: relative;
      padding: rem(11);
      min-height: rem(350);
      background: var(--primary);
      clip-path: polygon(
        rem(20) 0%,
        calc(100% - rem(20)) 0%,
        100% rem(20),
        100% calc(100% - rem(20)),
        
        calc(100% - rem(20)) 100%,
        rem(20) 100%,
        0% calc(100% - rem(20)),
        0% rem(20)
      );
      overflow: hidden;

      @include media("xl") {
        min-height: rem(280);
      }
      @include media("xs") {
        padding: rem(9);
        min-height: rem(220);
        clip-path: polygon(
          rem(15) 0%,
          calc(100% - rem(15)) 0%,
          100% rem(15),
          100% calc(100% - rem(15)),
          calc(100% - rem(15)) 100%,
          rem(15) 100%,
          0% calc(100% - rem(15)),
          0% rem(15)
        );
      }

      &::before {
        content: "";
        @include center;
        width: calc(100% - rem(20));
        height: calc(100% - rem(20));
        background: #fff;
        clip-path: inherit;
        pointer-events: none;

        @include media("xs") {
          width: calc(100% - rem(16));
          height: calc(100% - rem(16));
        }
      }

      &::after {
        content: "";
        position: absolute;
        bottom: 0;
        right: 0;
        transform: translate(30%, 42%);
        width: rem(500);
        height: rem(500);
        background: #fff;
        border-radius: 50%;

        @include media("xl") {
          width: rem(380);
          height: rem(380);
        }
        @include media("xs") {
          width: rem(240);
          height: rem(240);
        }
        @include media("xxs") {
          width: rem(200);
          height: rem(200);
        }
      }

      &-content {
        padding: rem(30);
        height: 100%;
        background: var(--primary);
        clip-path: inherit;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: rem(28);

        @include media("xl") {
          padding: rem(20);
          gap: rem(20);
        }
        @include media("xs") {
          padding: rem(15);
        }
      }

      &-title {
        line-height: 0.9;

        @include media("lg") {
          line-height: 1.2;
        }
        @include media("xs") {
          br {
            display: none;
          }
        }
      }

      &-list {
        color: #fff;
        font-size: rem(20);
        font-weight: 700;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: rem(15);

        @include media("xl") {
          font-size: rem(18);
          gap: rem(12);
        }
        @include media("xs") {
          font-size: rem(16);
        }
        @include media("xxs") {
          font-size: rem(14);
        }

        li {
          position: relative;
          display: flex;
          align-items: center;
          gap: rem(10);

          @include media("xs") {
            gap: rem(8);
          }

          &::before {
            content: "";
            display: block;
            width: rem(20);
            height: rem(20);
            box-shadow:
              inset 0 0 0 rem(1) #fff,
              inset 0 0 0 rem(5) var(--primary),
              inset 0 0 0 rem(10) #fff;
            border-radius: 50%;

            @include media("xs") {
              width: rem(16);
              height: rem(16);
              box-shadow:
                inset 0 0 0 rem(1) #fff,
                inset 0 0 0 rem(4) var(--primary),
                inset 0 0 0 rem(8) #fff;
            }
          }
        }
      }

      &-img {
        position: absolute;
        bottom: 0;
        right: 0;
        z-index: 2;

        @include media("xl") {
          img {
            max-height: rem(240);
            object-fit: contain;
          }
        }
        @include media("xs") {
          img {
            max-height: rem(160);
          }
        }
        @include media("xxs") {
          img {
            max-height: rem(140);
          }
        }
      }
    }
  }
</style>
